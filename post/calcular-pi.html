<!doctype html><html lang=en-US><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Calcular π (pi) | You are 10x developer</title>
<link rel=stylesheet href=https://blog.u10x.dev/css/style.css><link rel=stylesheet href=https://blog.u10x.dev/css/fonts.css><link rel=stylesheet type=text/css href=https://blog.u10x.dev/css/custom.css></head><body><nav><ul class=menu><li><a href=https://blog.u10x.dev/>home</a></li><li><a href=https://blog.u10x.dev/posts.html>Posts</a></li></ul><hr></nav><div class=article-meta><h1><span class=title>Calcular π (pi)</span></h1><h2 class=author>Bruno Rozendo</h2><h2 class=date>2016/11/12</h2></div><main><p>Seja a fórmula matemática para calcular Pi (Π|π)</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <mi>&pi;</mi>
   <mo>=</mo>
   <mn>4</mn>
   <mo>(</mo>
   <mrow>
  <mn>1</mn>
  <mo>&minus;</mo>
  <mfrac>
     <mn>1</mn>
     <mn>3</mn>
  </mfrac>
  <mo>&plus;</mo>
  <mfrac>
     <mn>1</mn>
     <mn>5</mn>
  </mfrac>
  <mo>&minus;</mo>
  <mfrac>
     <mn>1</mn>
     <mn>7</mn>
  </mfrac>
  <mo>&plus;</mo>
  <mfrac>
     <mn>1</mn>
     <mn>9</mn>
  </mfrac>
  <mi>&ctdot;</mi>
</mrow>
<mo>)</mo>
</math><p>Fazendo algumas operações algebricas para que a fórmula fique mais fácil de trabalha no algoritmo:</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
<mi>&pi;</mi>
 <mo>=</mo>
<mfrac>
   <mn>4</mn>
   <mn>1</mn>
</mfrac>
<mo>&minus;</mo>
<mfrac>
   <mn>4</mn>
   <mn>3</mn>
</mfrac>
<mo>&plus;</mo>
<mfrac>
   <mn>4</mn>
   <mn>5</mn>
</mfrac>
<mo>&minus;</mo>
<mfrac>
   <mn>4</mn>
   <mn>7</mn>
</mfrac>
<mo>&plus;</mo>
<mfrac>
   <mn>4</mn>
   <mn>9</mn>
</mfrac>
<mi>&ctdot;</mi>
</math><p>o algoritmo:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.math.BigDecimal;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.math.MathContext;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.math.RoundingMode;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Pi</span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Pi</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> precisao <span style=color:#f92672>=</span> 15000;
</span></span><span style=display:flex><span>    MathContext mx                   <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MathContext(precisao, RoundingMode.<span style=color:#a6e22e>HALF_EVEN</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    BigDecimal quatro                <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BigDecimal( 4, mx);
</span></span><span style=display:flex><span>    BigDecimal pi                    <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BigDecimal( 0, mx);
</span></span><span style=display:flex><span>    BigDecimal sinal                 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BigDecimal( 1, mx);
</span></span><span style=display:flex><span>    BigDecimal incrementoDenominador <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BigDecimal( 2, mx);
</span></span><span style=display:flex><span>    BigDecimal denominador           <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BigDecimal( 1, mx);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0 ; i <span style=color:#f92672>&lt;</span> precisao ; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      BigDecimal tmp  <span style=color:#f92672>=</span> quatro.<span style=color:#a6e22e>divide</span>(denominador, mx);
</span></span><span style=display:flex><span>      tmp <span style=color:#f92672>=</span> tmp.<span style=color:#a6e22e>multiply</span>(sinal, mx);
</span></span><span style=display:flex><span>      pi <span style=color:#f92672>=</span> pi.<span style=color:#a6e22e>add</span>(tmp, mx);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      sinal <span style=color:#f92672>=</span> sinal.<span style=color:#a6e22e>negate</span>();
</span></span><span style=display:flex><span>      denominador <span style=color:#f92672>=</span> denominador.<span style=color:#a6e22e>add</span>(incrementoDenominador);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#34;\u03c0: &#34;</span>);
</span></span><span style=display:flex><span>    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(pi);
</span></span><span style=display:flex><span>  }  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> Pi();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></main><footer></footer></body></html>